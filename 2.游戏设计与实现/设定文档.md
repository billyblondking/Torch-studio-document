# 设定文档

<!-- TOC depthFrom:2 -->

- [1. 编写目的](#1-编写目的)
    - [1.1. 文档组织](#11-文档组织)
    - [1.2. 注意事项](#12-注意事项)
    - [1.3. 名词解释](#13-名词解释)
- [2. 开场界面](#2-开场界面)
    - [2.1. 开场](#21-开场)
    - [2.2. 免责声明](#22-免责声明)
    - [2.3. 背景介绍](#23-背景介绍)
    - [2.4. 开始](#24-开始)
- [3. 菜单界面](#3-菜单界面)
    - [3.1. 主界面](#31-主界面)
    - [3.2. 资料库](#32-资料库)
    - [3.3. 出发](#33-出发)
    - [3.4. 整备](#34-整备)
        - [3.4.1. 基本属性值](#341-基本属性值)
        - [3.4.2. 攻击方式](#342-攻击方式)
        - [3.4.3. 符卡栏和道具栏](#343-符卡栏和道具栏)
    - [3.5. 道具库](#35-道具库)
    - [3.6. 地图列表](#36-地图列表)
        - [3.6.1. 香霖堂](#361-香霖堂)
        - [3.6.2. 红魔馆大图书馆](#362-红魔馆大图书馆)
        - [3.6.3. 军火店](#363-军火店)
- [4. 游玩界面](#4-游玩界面)
    - [4.1. 加载界面](#41-加载界面)
    - [4.2. 操作界面](#42-操作界面)
        - [4.2.4. 跳跃键](#424-跳跃键)
        - [4.2.5. 切换攻击方式](#425-切换攻击方式)
        - [4.2.6. DASH](#426-dash)
        - [4.2.7. 方向键](#427-方向键)
        - [4.2.8. 暂停选项](#428-暂停选项)
        - [4.2.9. 切换角色](#429-切换角色)
        - [4.2.10. 符卡](#4210-符卡)
        - [4.2.11. 道具](#4211-道具)
- [5. 其他](#5-其他)
    - [5.1. 角色相关](#51-角色相关)
        - [5.1.12. 受伤](#5112-受伤)
        - [5.1.13. 击退](#5113-击退)
        - [5.1.14. 自动攻击](#5114-自动攻击)
        - [5.1.15. 加速度](#5115-加速度)
        - [5.1.16. “闪避”属性](#5116-闪避属性)
        - [5.1.17. 近战](#5117-近战)
        - [5.1.18. Die](#5118-die)
    - [5.2. 敌人相关](#52-敌人相关)
        - [5.2.1. 受伤显示](#521-受伤显示)
        - [5.2.2. 掉落](#522-掉落)
        - [5.2.3. 种类](#523-种类)
    - [5.3. 地图相关](#53-地图相关)
        - [5.3.1. 宝箱/隐藏宝箱](#531-宝箱隐藏宝箱)
        - [5.3.2. 隐藏地点](#532-隐藏地点)
        - [5.3.3. 篝火](#533-篝火)
        - [5.3.4. 电梯](#534-电梯)
        - [5.3.5. “一方通行”平台](#535-一方通行平台)
        - [5.3.6. 机关](#536-机关)
        - [5.3.7. 隔离区](#537-隔离区)
        - [5.3.8. 事件点](#538-事件点)
    - [5.4. 游戏难度](#54-游戏难度)
- [6. 结尾](#6-结尾)

<!-- /TOC -->

## 1. 编写目的
本文档是『游戏概念演示图』（以下简称“演示图”）的配套说明文档。

本文档撰写的目的是重新审核所有设定，综合评估设定的可行性和意义，总结现阶段设计成果。所以所有设定都是**理论可行**的。

### 1.1. 文档组织
参照演示图，按照游戏的界面展示顺序组织文档。依照各种设定出现的顺序在相应界面内展开说明。

### 1.2. 注意事项
- 本文档所提到的设定不一定要全部实现。
- 没有给设定分优先级。
- 部分设定会强调一下实现机制。部分不容易展示的设定，没有进行过多说明。

### 1.3. 名词解释
角色：分为可操控和不可操控的角色。可操控角色就是玩家可以操作其进行游玩的角色。除了可操控角色，其他出现的角色都是不可操控角色。
 
## 2. 开场界面
### 2.1. 开场
打开游戏展现的第一个画面是工作室的LOGO。

### 2.2. 免责声明
以东方project为背景制作的同人游戏基本都要添加免责声明，强调版权的归属。

### 2.3. 背景介绍
用数张图片和一些文字描述游戏背景。
每次游戏开始都要显示背景介绍，点击屏幕跳过。
单纯的静态图片表现力不佳，可以使屏幕在一张大图上缓慢平移来取得更好的展示效果。
切换图片时可以添加一些转场效果。

### 2.4. 开始
选择“新游戏”，“载入游戏”，“设定”，“职员表”和“退出”。
背景图同样可以采用平移效果。
如果工作量允许，最好能够自动依据退出游戏前主角们处于的地点，展现不同的背景图。

直接显示开始界面会显得很突兀，所以在开始界面前增加了一个缓冲界面，需要点击屏幕，使用转场效果载入开始界面。可能一些人会感觉多余，但是我可以告诉你将近一半的游戏大作都用了缓冲界面，例如《重返德军总部》，《无主之地》，《使命召唤》。

为了达到缓和的目的，给开始界面的菜单选项添加淡入效果。

- 新游戏：从头开始游玩游戏，依照剧本引导游戏进行。
- 载入游戏：选择游玩的存档，载入后直接进入“菜单界面”中的“主界面”。
- 设置：手机平台上的设定目前只进行简单的音量调整。
- 职员表：游戏做完以后再考虑。
 
## 3. 菜单界面
### 3.1. 主界面
主界面左侧是人物的立绘，仅仅是展示。虽然在人物立绘左侧提供了切换显示人物的按钮，但是仅仅是更换立绘。

主界面左下角是当前人物装备的符卡预览。没有装备符卡的栏位显示默认符卡图片。目前来看，图片上的那个“无符号标记”观感还不错。

点击人物的立绘，会在人物的头顶上弹出一个小对话框，数秒后消失，内容都是一些角色的内心想法，一些小对话。可以在完成其他功能后再考虑开发此功能。

该界面正下方中部，是当前地点中的可触发对话,未观看过的对话上会显示感叹号。这些对话的出现有一些条件，满足这些条件后，在这里就会显示相应的对话。
这些条件是：初次到达该地点时人物的碎碎念；通过某一小关后，角色们的讨论；彻底打通一个地点后角色们的讨论；获得某些特殊道具等。会有一个专门的剧本机制用来实现这些功能。

界面右上方是信息栏，显示当前角色们所处的地点，当前地点中关卡的完成进度，以及持有的金钱数目。

系统商店，使用玩家充值的人民币购买游戏中的强力道具，可以是独特的强化角色能力的道具，也可以是限定的可操控角色。相关功能暂时**不考虑**实现。

设置，只进行简单的音量调整，返回开始界面，保存游戏进度。保存游戏进度使用和载入游戏相同的界面，只是进行的操作不一样。

当游戏中有新内容更新时，所属按钮上会有感叹号提示。

### 3.2. 资料库
展示游戏流程中遇到的事物，添加进来做一个详细介绍，类似图鉴或者百科全书。没有在游戏中遇到的事物不会显示。资料库中的内容大多参照官方设定集。

- 角色目录：介绍游戏中出现的角色，介绍的内容可以是官方设定集中的内容。同时介绍角色们使用的符卡。
- 道具目录：为了保证整备界面的清爽利落，关于道具的描述都放在了这里，包括道具的效果，背景介绍，出处等。玩家获得的道具都可以在这里找到详细说明。
- 地点目录：介绍游戏中出现的地点，可以展示官方设定集的内容，例如博丽神社，雾之湖，迷途竹林等等。
- 符卡目录：列出游戏中出现的各种符卡的详细信息。
- 治退目录：击败过的小怪和BOSS都会出现在这里，显示他们的生命值，速度，使用的招式等信息。
 
### 3.3. 出发
进行当前地点下的关卡的选择。每个地点可能拥有2至3个关卡，看工作量。

在左侧选择游玩的关卡，只有通过前置关卡才可以解锁下一个关卡。关卡可以重复游玩。右侧上部显示关卡的预览图片，难度评级，介绍等信息。

右侧下部的主要功能是选择出战的两名角色。这里的选择出战，指选择游戏中实际操作的角色。点击相应角色旁边的箭头可以更换队伍中的其他可操控角色，依照队伍的顺序切换角色，跳过已选择的角色。当然如果当前队伍中没有其他角色点了也没反应。例如队伍中有四个角色，1灵梦，2魔理沙，3爱丽丝，4女仆长，已经有选择1灵梦和2魔理沙作为出战角色，此时点击1灵梦旁边的箭头，可以切换到3爱丽丝，再点击相同的按钮，切换至4女仆长，跳过了2魔理沙。

这样切换可能不如列表选择直观，但我们的可操控角色数量不算多，这样做足够简洁明了。

当剧情进行到某些阶段时，会有一些角色加入主角队伍成为可操控角色。一旦加入就不会离开。预计设计3~5个除两名主角外的其他角色。

在角色下方显示当前角色装备的符卡和道具的预览，仅仅是预览，并不能在这个出发界面进行修改。为了保证界面功能的单一，这个出发界面**不负责**调整角色装备。如果想修改当前角色的配备，可以返回主界面，进入整备界面。

支援角色的设定已被抛弃。设计支援角色的本意是可以让玩家在游戏中使用那些不可操控角色们的符卡。为了不引入更多的复杂设计，已将这个设定修改，详见“军火店”。

点击开始游戏前，系统检查玩家持有的符咒数量。一旦超过一定数量，则提示需要将多余的符咒保存在大图书馆，并且拒绝进入关卡。
 
### 3.4. 整备
左侧显示可操纵角色头像，右侧是角色的目前状态。这里的角色只指玩家可操控的角色。

#### 3.4.1. 基本属性值
全部可操控角色共同的特征。不同的角色拥有不同的属性值。

- 生命：一般生命值为0时角色会挂掉。出战的两人，任何一人挂掉，任务就会失败。生命值一般不会自动恢复。一些道具可以赋予角色免死和自动回血的特性，但相对应需要付出代价。关于道具的具体说明放在道具库界面里。
- 灵力：使用符卡需要消耗灵力，使用某些道具也需要灵力，进行某些动作也需要灵力。灵力会通过攻击命中敌人时缓慢恢复，可以因为受伤而恢复，可以使用某些道具回复。一般情况下不会自动恢复。需要合理分配灵力的使用。因为灵力的限制，角色不能肆无忌惮的释放强力技能。
- 速度：特指角色在平地上的移动速度。移动速度越快，随机应变的能力越强。某些危险地带和机关需要依靠高速角色快速通过。这样就体现出了两个角色来回切换的重要性。

各个数值后面的“+”号表示当前角色的属性加成。这些加成来自于“强化道具”。通过强化道具，可以有针对地强化一个角色。角色天生速度快，就使用强化速度的道具。觉得角色有很大的短板，也可以用道具进行补偿。当然道具的使用有限制，强化提升的幅度也比较有限。

角色的属性值不止这些，诸如攻击力，攻击频率，角色硬直，碰撞区域，闪避冲刺的距离等，不同的角色都会有些许差异，为了防止展示的数据过于复杂，这些属性并不显示出来。

#### 3.4.2. 攻击方式
游戏的创新点之一。游戏中角色会自动发射弹幕攻击敌人，如果一直发射同一种弹幕，很容易厌倦。同时角色自动攻击，玩家也不利于掌握攻击的频率和节奏（这很重要）。作为补偿，角色可以随时切换攻击的方式。

提供两种攻击方式，集中和发散，每一种攻击方式下有两种或以上的替换选择。

拿雾雨魔理沙举例：
集中攻击方式选择魔炮攻击，角色会以较长时间间隔发射贯穿一条直线的魔法射线，伤害直线上的所有敌人，需要掌握好攻击的节奏。如果选择魔法导弹攻击，角色会以较快的速率向面前一发发地发射小型魔法弹，不能贯穿敌人。
发散攻击方式选择星星攻击，角色会以一定的角度发射带有抛物线的星星，覆盖前方较大范围，攻击多个敌人，伤害较低。如果选择“星光台风”，角色周围会产生具有伤害的星光旋风，同时攻击前后方较小范围内的敌人。
 
#### 3.4.3. 符卡栏和道具栏
各3个栏位，初始状态下角色只有一个可用符卡栏位和一个道具栏位，通过某些途径解锁栏位。解锁栏位的功能一次只能给一个角色解锁一个符卡或道具栏位。解锁栏位后，栏位默认状态为空。

出于相关剧情设定，原计划增加的符卡解锁系统已经被抛弃，角色默认带有全部的符卡，但是限制栏位。

虽然符卡有强弱之分，但是一味的携带高强度符卡势必会导致后劲不足。如果在游戏前期回复能力较弱的情况下携带强力符卡，一口气耗光全部灵力，并不能让你一下干掉BOSS，反而会使自己更加被动。增加栏位使得在战斗的时候有更多的选择。

符卡栏只显示技能名称，消耗，冷却时间这种基本属性。如果要查看技能的详情或者更换装备的符卡，可以点击相应栏位，屏幕上将会显示出一个可下拉的符卡列表，里面包括了其他符卡和简要的说明信息，再次点击要选择的符卡就可以完成更换操作。

每次显示符卡列表时会显示该角色可以使用的所有符卡。
- 如果选择的是相同的符卡，则什么也不会发生。
- 如果选择的是角色其他栏位已经装备的符卡，则只是将其他栏位的符卡移动过来。
- 如果选择更换的是专属符卡，则直接更换该栏位装备的符卡，因为专属符卡不可能重复。
- 如果选择更换的是通用符卡，则需要判断一下这个符卡是否已经被别人装备，如果别人已经装备了该通用符卡，则提示已经使用，拒绝更换符卡；否则就直接更换符卡。

每个角色的符卡预计只设计3~5个，这样做完全足够。

如果要查看角色符卡更为详尽的说明，例如背景，原型等，请查阅“资料库”。

道具栏的具体操作和符卡栏类似，也只显示基本信息，例如物品名称，使用效果，冷却时间等。详尽文字说明查看资料库。

游戏中的道具有一些属性：
- 主动的，
- 被动的。
- 可以放在道具栏（携带）的，
- 不可以放在道具栏（携带）的。
- 可以在道具库使用的但不可以在战斗中使用的，
- 可以在战斗中使用的但不可以在道具库使用的。

总结一下就是，
道具栏能放可以携带的主动道具，可以携带的被动道具。

所以这里就以共同的特征可以携带作为标准，更换道具栏里的道具时，用一个下拉列表显示所有可以携带的道具。所以不管这个道具是5毛钱一个的创可贴，还是毁天灭地的屠龙宝刀，统统放在一个列表里。目的就是为了简化分类的操作。

每次显示道具列表时会显示该角色可以携带的所有道具。
- 如果选择的是相同的道具，则什么也不会发生。
- 如果选择的是角色其他栏位已经装备的道具，则只是将其他栏位的道具移动过来。
- 如果选择更换的道具已经被别人装备，则提示已经装备，拒绝更换。
 
### 3.5. 道具库
道具库也可以称为仓库或背包。在道具的列表中只显示基本信息，当然如果空间足够又不影响观感，多加一些描述也可以，毕竟界面空闲空间挺多。每个道具后面还会显示当前道具的状态，例如如果没有角色装备该道具则不显示状态。

道具有三种类型。每个道具都是**独一无二**的，一旦获得就一直保存在道具库中。

- 普通道具：只能够在战斗中使用的道具。多数为恢复生命或灵力，强化本体战斗力的药水。还有一部分是辅助战斗的道具，如短暂的防弹护盾，直线飞行并且可以站在上面的扫把。这些道具虽然很普通，但是好在容易获取，而且使用次数多，使用道具的代价小。
大部分普通道具可以在道具店“香霖堂”买到。一些道具作为隐藏道具，分散在关卡的各个角落，有时候甚至需要多次探索同一关卡才能获得。
战斗时，限制普通道具的使用次数。即使使用次数用完了，道具也不会消失。重新进入当前关卡或者其他关卡后道具的使用次数再次恢复。也就是说普通道具可以重复使用。

- 强化道具：可以强化角色的某些属性值，只要给角色使用了强化道具，强化效果将一直存在，直到卸载掉强化道具。一个强化道具同时只能作用于一个角色。
设计强化道具的初衷就是代替等级系统。使用强化道具让角色越来越强，同时也规避了等级系统的复杂数值设计。不仅仅可以强化基础属性值，例如可以缩小角色的碰撞体积，加快攻击的频率，增加发射的子弹数量等。
某些强化道具会带来明显的增益效果，同时也会有明显的副作用，例如攻击频率加倍，但是攻击伤害减半。乍看之下好像能够造成的伤害没什么变化，但是攻击频率加倍后，某些伤害高但是射速慢的集中攻击方式会产生完全不一样的效果。例如更高的攻击频率可以使得集中攻击方式即使伤害减半也足够秒杀小怪；与BOSS对抗的时候虽然单发伤害降低，但是会更容易把握节奏，命中敌人，增加了击中次数。相对的，伤害本来就低的发散攻击方式会变得很无力。依照同样的道理，可以设计一个伤害翻倍但是频率减半的道具。可以设计更多的这种极端的道具。
获得方式多种多样，有些作为过关奖励。

- 特殊道具：这些道具很强大。目前计划有两种特殊道具。游戏标志性的十二个符咒都是特殊道具，而且拥有携带数量的限制。每次击败BOSS，会获得BOSS的标志性道具，作为奖励。
但是使用这些道具有很高的代价，可能需要大量的灵力。可以这样解释：符咒的能力强大，驱动这样的能力需要消耗大量的灵力值，甚至有些符咒的驱动条件要求剩余75%灵力；别人的道具别人用的熟练，自己拿来用不熟练，消耗更大。

在这里进行一些补充说明。
- 强化道具都是不可以携带的，只能在道具库中使用，它们对角色属性的修改即刻生效。因为不可以携带进入游玩界面中，那么也就无所谓主动被动之分了。
- 普通道具都是可以携带的，有主动和被动之分。
- 特殊道具一部分是可以携带的，也有主动和被动的区别，这时候使用方式类似于普通道具；也有一部分是不可以携带的，这时使用方法就类似强化道具。所以特殊道具其实就是普通道具和强化道具的综合。
- 强化道具都是可以在道具库中直接点击，然后选择作用的角色。点击普通道具则没有反应。
 
### 3.6. 地图列表
地图列表只完成切换地点的功能。随游戏剧情的推进可以前往更多的地点。设计思路参考了《黑暗之魂》。
从这个界面可以前往3个特殊地点。只有当剧情推进到一定程度时才可以前往这些地点。在此之前不显示这些地点。这些特殊地点的界面和一般地点的主界面差不多。

或许有人会觉得这3个特殊地点很多余，直接做成一个按键多省事。但是要明白，设计的时候不能只想着方便，游戏不是办公软件，路径越少越好，而游戏一种载体，承载的东西不单单是功能，更有其背后的背景。如果什么都图方便，那么只能说这个游戏太快餐，而我很反感这种把玩家当懒虫的游戏。我玩过了许许多多的游戏，单单把游戏商店拉出来做成一个大系统的大有人在，你能想象我要跋山涉水不远千里跑到城镇还要等天亮了商店开门才能购物吗？**游戏毕竟是游戏**。

经过设计的地点切换机制，从任何地点进入特殊地点只需要点击两下。

#### 3.6.1. 香霖堂
香霖堂是东方project中一个很有意思的地点，是一家贩卖道具的店铺。这家店铺经常出售奇怪的，不明来历的道具。店主森近霖之助自己有个特殊的能力，能够识别出未知道具的名称和使用方法。

在这里使用钱币购买道具。只能购买，没有卖出。可以购买部分普通道具和部分强化道具。随着关卡的推进，可购买的道具会增多。店铺出售普通道具和强化道具。购买的界面和道具库的界面差不多，具体看图。点击相应道具后弹出对话框提示确认。已经购买的道具仍然显示在列表中，但是在价钱的位置会显示已拥有。

香霖堂提供花费钱币解锁栏位的功能，每解锁一次栏位，下次解锁所需的钱币数量就会增加。道具栏和符卡栏的解锁所需钱币是分开算的。解锁栏位有专用的界面，点击解锁后提示确定。如果栏位已满，则不能够再解锁。

香霖堂是一个脑洞大开的地方，正是因为经常出售奇怪的道具，所以可以尽情的引入更多的道具，不单单是出现在东方project系列中的。ACG界的各种标志性道具，只要能符合游戏设定，都可以加入到这个商店里。

- 我可能会将《猎魔人3狂猎》中的猎魔人昆恩法印加入到游戏中，效果是抵挡伤害的护盾；
- 也可以把《黑暗之魂3》中的余烬加入到游戏中，效果是暂时增加生命值上限；
- 《无主之地2》中突击兵的自动炮塔，自动朝敌人射击；
- 《加速世界》中的疾风推进器，效果是瞬间飞到屏幕顶端，躲避地面一切危险。

脑洞越大越好。我个人倾向是将更多的道具设定为外来物，因为东方project系列中关于道具的设定并不是很多。引入人气作品中的道具会产生更多的新鲜感。集思广益。
 
#### 3.6.2. 红魔馆大图书馆
委托保管符咒，符咒属于特殊道具，因为身上可持有的符咒数量有限，需要的时候可以来这里取出。因为某些原因，玩家总共可持有的符咒数量有限，目前计划是两个。

或许有人会觉得这个设定很麻烦，但这样做的好处也有很多。一是适当琐碎的操作增加剧情代入感，二是管理道具条理更加清晰，三是突出重点。 

符咒摆放在魔法阵里，当前持有数未达上限时可以点击取出。假设玩家已经携带了两个符咒，通过关卡后又得到一个符咒，此时玩家如果要继续游玩关卡，就必须将多余的符咒保存在图书馆中。

在托管界面内，右侧是玩家持有的至多三个符咒，中间是保存的符咒。玩家可以通过拖动或者点击等方式存取符咒。如果身上符咒多于2个就禁止取出。

托管界面的背景要突出神秘感，我的美感不怎么地。

#### 3.6.3. 军火店
烤鳗鱼生意不好做了，老板娘转行卖军火。表面是一家普普通通的烤鳗鱼店铺，但是呢……这个设定纯粹是恶搞，而且出处是别的同人游戏，我只是觉得很有意思，借鉴了过来。虽然那个游戏里是因为冬天天冷没有鳗鱼烤……毕竟是做烧烤摊的，总不能光明正大的出售“军火”，更恰当的说法叫“走私”。

军火店出售其他角色使用的符卡，也可以贩卖一些道具。主要出售击败过的BOSS使用的符卡，数量并不是很多。如果制作进展顺利，可以考虑增加更多角色的专属符卡。这样做，避免了设计许多可操控角色。这里也要说一下，符卡可以认为是种技能，但是技能并不能叫符卡。正因如此才可以如此随意的将别人的看家本领拿过来使用。不需要在意东西老板娘是怎么得来的这种细节。

符卡不是道具，购买后也不会出现在道具库里，只会在商店里显示已购买。已购买的符卡将显示在所有可用角色的符卡列表里，但是同一张符卡同时只能给一名角色使用，否则提示重复。或许符卡列表会显得很长，但是这点程度还是可以接受的。简洁和实用是相互矛盾的。有时不得不做出权衡。有一个游戏每次只显示7个道具，而你有210个道具，这个游戏就叫《全境封锁》。

## 4. 游玩界面
### 4.1. 加载界面
游玩不同的关卡时应该显示不同的加载界面，这是最理想的情况。不然显示一张精心设计的背景图也是可以凑合的。
关键是右下角一定要显示“少女祈祷中…..”，注意是**祈祷**，不是**折寿**。资源加载完毕后自动进入操作界面。

### 4.2. 操作界面
关于操作按键的摆放看图，在这里谈一谈设计时的思路。我是先绘制完所有菜单界面才考虑绘制游玩界面。这个界面是玩家大部分时间要面对的界面，所以设计时结合了个人游玩经验，尽量直观易上手。

- 经常用到的操作按键占用大块的触摸区域。依照使用频度摆放其余的按键。将所有按键呈现在屏幕上，不进行单独的选择操作。
- 防止误触，一方面将常用按键的触摸区域尽可能加大，另一方面，对道具和符卡的使用增加确认操作，例如双击。
- 界面元素尽量不遮挡游戏画面，大部分的按键都在最下方的地图空白区域内，单独将一部分按键放在上端。
- 集中注意力，右上方除了BOSS血条外不放任何界面元素，因为敌人基本都是从右方过来的，玩家可以专心在右侧的敌人上，不会被按键和手指遮挡住视野。

接下来就解释一下各种按键的意义和用法，通过按键解释一下游戏的玩法。

#### 4.2.4. 跳跃键
游戏使用二段跳的设定，第一次跳跃后，尚未落地时，可以再进行一次凌空跳跃。跳跃的时候按方向键可以在空中比较灵巧地随意改变人物的左右移速。

二段跳可以让角色在空中有更灵活的表现，你可以选择在初次跳跃达到最高点时进行二段跳达到更高的高度。也可以在半空中起跳躲避交错来袭的子弹。

原计划是，长按跳跃键增加跳跃高度，但是大多数时候会显得比较笨拙，而且没有什么可以挖掘的深度，于是改成了二段跳，这也是很多横板游戏采用的设定。有些游戏的跳跃操作存在很深层次的挖掘空间。关于游戏的技巧性，我们不考虑，弄巧成拙，弄拙成巧。

道具可以增加角色的空中跳跃次数，额外的跳跃需要消耗很多的灵力。

#### 4.2.5. 切换攻击方式
在角色设定好的两种攻击方式之间自由切换。点一下就行，没有什么限制。

在界面上的摆放和dash与符卡栏有些接近，但是这个按键不太频繁使用，而且就算按错了也没啥损失，就勉强安排在了屏幕下方的“黄金地带”。

#### 4.2.6. DASH
游戏特色之一，不是什么新鲜的设定，但我将这个设定进行了很大的改善。

所谓dash，就是短距离冲刺，猛冲。Dash后的短暂时间内无视重力不会下降，无视子弹和碰撞，重置角色y轴方向的速度为0，保留角色在x轴方向的速度。根据按键的方向施加一个超大的瞬间加速度和一个微小的速率，同时作用在角色上的还有一个使角色恢复正常速度的阻力，阻力的大小是一定的。
但是dash时不可进行攻击。之所以不是直接施加初速度，是因为速度变化不够平滑。

Dash的一个重要用途是擦弹，DASH过程中碰到子弹，就可以恢复灵力，鼓励玩家朝子弹上面撞。只不过恢复量很少。

如果角色正在向→移动，按一下dash，角色将很快地向→冲刺，随后速度会很快的恢复正常。但如果角色连续使用dash，角色的速度会变得很快，而且可以保持更长时间高速，因为阻力大小是不变的，而角色受到了多次的加速度加成。

如果角色处在空中，使用dash就可以消除y轴方向的速度，玩家可以在空中自由平移。同时可以结合二段跳。

Dash有使用次数，每5秒补充一次，可以储存3次。连续使用dash虽然可以换来高速移动，但是不得不等待次数恢复，如果遇到紧急情况会比较被动。

使用道具，可以进行dash相关的强化。例如增加储存次数，或者加快补充速度；极端的情况下，可以大幅增加储存次数，但是补充速度变慢许多；也可以无限dash，但是代之以大量的灵力消耗。

#### 4.2.7. 方向键
游戏只设置左右移动两个方向键，没有设置上方向键和下方向键。

- 原因之一，一个类似的横板过关游戏95%的时间都只需要操作左右键移动。上，下两个键通常只用来进行一些特殊的动作，例如爬梯子，趴下，蹲下等。
- 原因之二，手机屏幕上尽量不要有很不常用的按键，尽量最求简洁。有一些游戏使用↑方向键作为跳跃键，但是这些游戏基本都死翘翘了。出于类似的考虑，不需要使用一些游戏常用的“摇杆”。

总之只需要左右两个方向键。

#### 4.2.8. 暂停选项
界面左上方是一个较小的按键。点击后进入设置界面，游戏暂停。在这里只有三个选项。

- 返回开始界面：回到选择“新游戏”，“载入游戏”等的界面。

- 放弃关卡：返回主界面，一切回到进入关卡前的状态。

- 返回：顾名思义，从哪里点的就回到哪里。
 
#### 4.2.9. 切换角色
顾名思义就是在原地切换操纵的角色，上一个角色的状态全部保留，但是仍然会继续计算上一个角色的各种数值变化，例如技能的冷却时间。相当于让角色在后方休息。

大部分的时候都可以直接切换角色，但是当角色进行一些特殊动作时不能够进行切换，例如施放符卡。

关于切换效果有三种方案。
- 切换角色时全屏静止，除了角色。角色在原位置展现一个后跳的动作同时淡出，然后替补角色淡入跑来，替补角色接管所有的操作。这样做是体现一个过程，同时玩家也有一定的时间观察局势。
- 角色立即原位置切换，并且替补角色保持原角色的动作，例如原角色正在展现跳跃的动作，头朝上脚朝下，替补角色仍然继承这个动作。各种角色的基本动作都一样，所以可以这样切换。这样做的目的是追求极致的流畅和连贯。
- 最笨拙的一种方式，角色只有处在地面上的时候才可以切换角色。这样做最简单。

#### 4.2.10. 符卡
双击施放。符卡的设计重点是平衡性，需要反复仔细推敲。平衡性包括符卡间的平衡性以及符卡和符咒之间的平衡性。

这里说一下符卡的效果。符卡是一种战略资源，通常具有比较强大的能力。

符卡按照伤害大小分为三档。

- 低级符卡消耗少，冷却时间短，能够更频繁释放，通常用来清理小怪。
- 中档符卡消耗略多，冷却时间较长，能造成更多的伤害，使用后会获得持续很长时间的状态加成，这些状态可以叠加，有些甚至持续一整局游戏。
- 高档符卡，每个角色只有一个高档符卡，释放的时候会有特殊的背景效果和音效。释放技能中人物处于无敌状态。这些角色代表性质的大招能够对BOSS造成大量伤害，并且清除BOSS的一切状态。总之能有多强就有多强，但是代价基本是75%的灵力。

原计划设计一些通用符卡，这些通用符卡需要占用一个符卡栏位，作用是赋予角色持续一整局游戏的状态加成，而且这些状态可以叠加。但最终把通用符卡和中档符卡的功能合并。

#### 4.2.11. 道具
使用道具也需要双击，没有使用道具的动画。

普通道具的作用是辅助，优势在于没有消耗，而且比较实用，例如能够踩在上面自动向前方飞行的扫把，可以通过扫把到达一些隐藏地点以及通过危险地带；使用诱饵吸引敌人攻击；使用护盾吸收伤害等。

也有一些被动道具，不能直接使用，可以为角色增加有益状态。但是已经设计了许多强化角色的方法，可以将这些被动道具整合进入强化道具里，有待商榷。

符咒是可携带道具的一种。例如鸡符咒使得按住跳跃键可以漂浮在空中，牛符咒使得角色不会被击退，马符咒可以持续治疗等。十二个符咒会有十二个独特的效果。
 
## 5. 其他
这里介绍一些没法反应在概念图的设定。设计的越多越发觉糅合游戏设定很困难，往往会出现喧宾夺主的情况。这就是开发经验不足的表现。但还好目前来说都在掌控之内。很多的细节没有办法展开，我的大脑不是超级计算机，考虑东西多了一样会很混乱，没有办法更精确的模拟游戏游玩体验。

### 5.1. 角色相关
#### 5.1.12. 受伤
角色碰到敌人会受到伤害，碰到敌人的子弹也会受到伤害，碰到地图上的机关也会受到伤害，总之角色有很多种方法受到伤害。并不显示受到伤害的具体数值。角色受伤后触发击退动作。

#### 5.1.13. 击退
角色受到伤害后会朝后方后退小跳一点距离，减速。被击退时有短暂的无敌效果，但是被击退并不是什么好事。

敌人受到攻击会被击退一小段距离，但是没有无敌时间，而且不会减速，只是击退。体型越大的敌人击退的距离越短。地图中有一些陷阱，利用击退这个设定，使用攻速超快的攻击方式可以活活把敌人推进坑里。

BOSS和一些强力敌人不会被击退，甚至不会对玩家的攻击做出动作上的反应，但是有一个隐藏的受击伤害界限，达到这个界限，会打断BOSS攻击并且击晕BOSS，是趁机输出的好机会。不同的BOSS这个界限都不同，一些BOSS甚至没有界限。

#### 5.1.14. 自动攻击
角色并不是何时何地都可以攻击的。自动攻击也可以称为自动射击。角色站在平地上，在平地上行走，跳跃的时候角色才可以正常攻击。
Dash时不可以攻击，施放符卡的时候不能攻击。

总之在其他状态时应该让角色停止自动攻击。

#### 5.1.15. 加速度
角色朝一定方向移动时有一定的加速度，而不是直接改变角色的速率。速率达到角色当前上限后将不再加速。

平地上行走时加速度最大，但是当跳跃起来在空中按方向键左右移动的时候加速度会变小。如果速率已经达到最大，通过方向键产生的加速度会变为零，朝正在移动的方向跳跃并不会影响速率，但是在空中使用方向键转向的话就会产生反方向加速度。

敌人也有类似设定。这些设定需要细细打磨。
 
#### 5.1.16. “闪避”属性
闪避不同于DASH，是角色的被动属性。在其他游戏中，闪避通常被设计为有一定几率完全闪躲敌人的攻击。

在游戏中，闪避值越高，角色的碰撞体积越小，但不会过分的小。这个属性是隐藏起来的，只可以通过道具改变。

#### 5.1.17. 近战
有些游戏中角色会自动对紧挨的敌人使用近战攻击。
计划中，玩家可操控角色里会有一名只会近战的角色，这名角色很特殊。
其他角色没有近战的设定。

#### 5.1.18. Die
两名角色中的任何一名生命值降为0游戏结束。返回最近的检查点。

### 5.2. 敌人相关
#### 5.2.1. 受伤显示
敌人受到伤害后不显示受到了多少伤害，也不显示敌人的血条。

#### 5.2.2. 掉落
打败敌人后，有几率掉落一些补给品。这些补给从敌人身上爆出后会直接飞到角色身上使用，不需要主动去捡取。

- 钱币：打败敌人必定会掉落一定数量的钱币，一样不需要捡取。

- POWER：一个小方块，上面写着一个P。在东方正作中击破敌人后会掉落这种道具，表示自机的火力大小。火力达到最大值的状态称为满P。在游戏中，击破敌人也会掉落POWER，用来恢复灵力，也可以考虑更多的用处。

- 小/大蘑菇：恢复定量生命值。

#### 5.2.3. 种类
简单列出来几种，但具体的设计还是要在制作中慢慢来。

- 杂鱼：有毛玉、阴阳玉、妖精、蝴蝶、使魔、怨灵、石头、鸟、魔法书等，数量多，没有什么威胁力。通常使用集中攻击一击就可以击倒，但是使用发散攻击就需要两到三下。移动速度较快，能够快速接近玩家。行动轨迹不可预测，总是蹦蹦跳跳。有些飞在天上发射弹幕，数量很多的话也是很难对付的。

- 刺客：速度极快的敌人，擅长从背后撞击角色。正面朝向它，它将迅速后退。生命值很低。

- “坦克”：大型敌人。移动速度慢，生命值很高，火力强劲。数量不多，通常放置在关卡的主要通路上。

- “攻击机”：飞在天空中朝角色不停的发射密集的弹幕。会和角色刻意保持距离。

- 道中BOSS：小BOSS，由东方中的一些喜欢搞事情的角色担任，目的就是阻挡和消耗。

- 关底BOSS：每一个地点的最后一个关卡的BOSS。拥有符咒力量加成和华丽（？）的符卡攻击。受到一定伤害后转换阶段。

这个世界真是凶险。
 
### 5.3. 地图相关
#### 5.3.1. 宝箱/隐藏宝箱
宝箱出现在正常的关卡流程中，接触到箱子就可以打开它。打开宝箱后会获得大量的钱币，补给，屏幕某处提示获得的物品清单。

隐藏宝箱只存在于隐藏地点，有独特的外观，通常含有独特的道具。

#### 5.3.2. 隐藏地点
表面上是一堆树丛或者一堆岩石，角色可以直接穿过这些障碍，最终抵达放有隐藏宝箱的隐藏地点。也可以是地图上的一个很高的平台，不借助某些神奇道具的力量就无法到达。
这种设定增加了重复游玩关卡的意义。

#### 5.3.3. 篝火
篝火是关卡中的一个安全区域，其实是关卡的检查点。所谓检查点，就是记录游戏状态的一个地点，一旦玩家游戏失败，游戏将自动返回到最近的检查点。英文名叫check point。

概念上很类似存档，但这个检查点只是个临时的，一旦退出关卡或退出游戏，检查点就会消失，也就是说检查点记录的数据不写进文件。

角色触碰到篝火后，自动点燃篝火。角色die后返回最近的已经激活的存档点。

#### 5.3.4. 电梯
河童工建在幻想乡四处修建的一种风能驱动的自动移动平台。主要有上下移动，左右移动，斜上下移动三种。

电梯的移动非常有规律，很多游戏借此制作了许多精妙的运动轨迹，考验玩家的跳跃能力。

#### 5.3.5. “一方通行”平台
在某些场景角色不可避免地要向上跳跃，角色会接触到一些较高处的可站立平台。这些平台只允许玩家从下到上通过，但是不允许玩家直接从上方穿过平台。如果玩家要向地图的下方移动，只能找别的路。

#### 5.3.6. 机关
坠落的大石块，尖刺，固定位置的炮台等。

#### 5.3.7. 隔离区
挑战关底BOSS前，角色经过的一段特殊的安全区域，玩家调整状态应对BOSS。隔离区一般会放置篝火和宝箱。比较狭窄。
 
#### 5.3.8. 事件点
出现在地图上的固定位置，样子是一个上下浮动的问号或感叹号。角色碰到这些触发点会触发相应的事件。

这些事件的定义写在剧本文件中。通过扫描剧本文件，可以实现非常灵活的互动。不仅仅可以显示对话，也可以操纵敌人的刷新，接受NPC赠送的道具，甚至可以操纵地图。

### 5.4. 游戏难度
缺乏关卡设计的经验，很难在地形上做出彩。美术资源又匮乏，关键是风格不统一。很难做出质量水准一致的关卡。

地形设计不出彩，那么就增加敌人数量，增加敌人伤害，增加敌人血量。这只是数值上的调整，是最简单最蠢但却是最常用的调整。

现阶段，将游戏难度定位为偏高，这很大的一部分要看弹幕的设计。

## 6. 结尾
很多东西不做出来是没有办法说明白的。仍然有很多很多的东西没有考虑到，但是我已经把游戏大部分的要素都列出来了。这些要素足够支撑起一个完整的游戏。

增加一个设定前，我都会在脑中先想一想具体的实现方式。太复杂的东西我自己都不敢加入。我在设计的同时也在尽力突出东方project的主题。

我没有在常见的横板闯关的模式下进行多少创新，我做的最多的还是整合。这里面的每一条并不是必须都体现在游戏中，游戏的修改直到发布后也一直在进行。当然我们不考虑以后的事。

